<!-- title: SocialBlog Dokumentation -->
<!-- topic: SocialBlog -->
<meta http-equiv="content-type" content="text/html; charset=utf-8">

<h2>Idee</h2>
<p>
    Der SocialBlog ist ein minimales webbasiertes soziales Netzwerk.
    Als Webframework wird Spark und als Datenbank SQLite verwendet.
    Zur einfachen Verwendung der Datenbank seitens des Frontends wird eine Objektrelationale Abbildung erstellt.
</p>
<p>
    Es erlaubt die Erstellung von Nutzern, Posts und Topics.
    Nutzer können mehrere Topics favorisieren und mehrere Posts schreiben.
    Jeder Post gehört einem Topic an und hat einen Autor.
    Dadurch kann für jeden Nutzer dessen Posts und favorisierte Topics angezeigt werden.
    Genauso können für jedes Topic alle Posts mit diesem Topic gelistet werden.
</p>

<h2>Objektorientierte Abbildung der Datenbank</h2>

<p>
    Für jede Tabelle der Datenbank existiert eine Java-Klasse, die die entsprechenden Attribute enthält.
    Dadurch wird eine objektorientierte Abstraktion der Datenbank verwendet, wodurch der "Nutzer" der Datenbank&mdash;das Webframework&mdash;keinen einzigen SQL Befehl ausführen muss.
    Die zentrale <code>Database</code> Klasse wird für die Erstellung und Abfrage von Instanzen der jeweiligen Tabellen verwendet.
    Mit der <code>Database db</code> kann beispielsweise <code>db.createUser("chris", 1100, 12, 12);</code> benutzt werden, um einen Nutzer zu erstellen.
    Gleiches gilt für Topics <code>createTopic("cheese", "Everything there is to know about cheese.");</code> und Posts <code>createPost("Why Trains are the Better Pets", "bam, I like cheese", 2021, 11, 1, chris, cheese);</code>.
    Mit <code>db.getTopic("cheese");</code>, <code>db.getUser("chris");</code> und <code>db.getPost(69);</code> können Instanzen mithilfe des jeweiligen Primärschlüssels abgefragt werden.
    Diese Primaerschluessel werden oft durch einen Parameter in der URL angegeben, was spaeter genauer erlaeutert wird.
    Wenn alle existierenden Topics, Users oder Posts benötigt werden, kann <code>db.getTopics();</code>, <code>db.getUsers();</code> und <code>db.getPosts();</code> verwendet werden.
</p>
<p>
    Die Klassen enthalten alle weiteren notwendigen Methoden für den SocialBlog:
    Beispielsweise kann mit dem <code>User tom</code> und dem <code>Topic cars</code> mit dem Aufruf <code>tom.addFavouriteTopic(cars);</code> ein Topic favorisiert werden.
    Genauso kann mit <code>tom.getPosts();</code> und <code>tom.getTopics();</code> die von <code>tom</code> geschriebenen Posts bzw. favorisierten Topics abgefragt werden.
    Die Klasse <code>Post</code> enthält Methoden um den Autor und das Topic abzurufen, mit dem <code>Post post</code>:<br />
    <code>post.getUser();</code> und <code>post.getTopic();</code>.
    Diese Methoden geben Instanzen der jeweiligen Klassen zurück.
</p>

<h3>ER-Modell</h3>

<img src="https://raw.githubusercontent.com/pascal-kuschkowitz/Inf-Proj-ProductDev/master/docs/Datenbank-LTP_ER-Modell.png" width="800" height="auto">

<h3>RM-Modell</h3>

<table class="table">
    <tr>
        <th scope="col">Tabellenname</th>
        <th scope="col">Attribute</th>
    </tr>
    <tr>
        <td>user</td>
        <td>userName char(128), birthYear int, birthMonth int, birthDay int</td>
    </tr>
    <tr>
        <td>post</td>
        <td>postId int, title char(128), content char(1000000), year int, month int, day int, userName char(128), topicName char(128)</td>
    </tr>
    <tr>
        <td>topic</td>
        <td>topicName char(128), description char(512)</td>
    </tr>
    <tr>
        <td>favourite</td>
        <td>userName char(128), topicName char(128)</td>
    </tr>
</table>
